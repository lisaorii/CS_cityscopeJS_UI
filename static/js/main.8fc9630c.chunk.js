(this.webpackJsonpcityscopejs_radar=this.webpackJsonpcityscopejs_radar||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},125:function(e,t){},127:function(e,t){},190:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(78),i=n.n(o),c=(n(91),n(34)),s=n(8),l=n(16),u=n(11),h=n(9),d=n(12),m=n(83),f=n(17),p=(n(111),n(112),[0,1]),g=[{name:"amazing city",domain:p},{name:"validated innovation",domain:p},{name:"predicted happiness",domain:p},{name:"mix-use in heaven",domain:p},{name:"cool buildings",domain:p},{name:"fun crime levels",domain:p},{name:"success urbanism",domain:p},{name:"happy agents",domain:p},{name:"parking bliss",domain:p},{name:"deep swarm chains",domain:p}],b={};for(var y in g)b[g[y].name]=Math.random()*g[y].domain[1];function O(e){var t={};for(var n in g){var a=1/(e[n][0]+1);t[g[n].name]=a}return[t,b]}var v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:[b,b],colorRange:["#fc03ec","#79C7E3"]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.doneFetching&&this.setState({data:O(e.cityIOdata)})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.colorRange;return r.a.createElement("div",{className:"Radar"},r.a.createElement(f.c,{animation:!0,data:t,domains:g,colorRange:n,style:{polygons:{fillOpacity:.2,strokeWidth:2},axes:{text:{opacity:0,fontWeight:500,fill:"white"},strokeWidth:.1},labels:{textAnchor:"middle",fontSize:10,fontWeight:"100",fill:"white"}},margin:{left:100,top:100,bottom:100,right:100},width:600,height:600},r.a.createElement(f.a,{style:{fill:"white",fillOpacity:.1,backgroundColor:"#fff",opacity:.5,stroke:"#333333"},tickValues:Object(m.a)(new Array(10)).map((function(e,t){return t/10-1}))})))}}]),t}(a.Component);n(113);function j(e){for(var t=[],n=0;n<20;n++)t.push({name:e||String(Math.random()).slice(0,3),size:1e3*Math.random(),color:Math.random(),style:{border:"thin solid white"}});return{color:0,children:t}}var w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hoveredNode:!1,treemapData:j(20),useCirclePacking:!1,mode:"circlePack"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={animation:{damping:15,stiffness:600},data:this.state.treemapData,onLeafMouseOver:function(){e.setState({treemapData:j()})},height:300,width:300,mode:this.state.mode,getLabel:function(e){return e.name},colorRange:["#79C7E3","#fc03ec"],opacity:.9,hideRootNode:!0};return r.a.createElement("div",{className:"TreeMap"},r.a.createElement(f.e,t),r.a.createElement("h1",null,"Not Radar 1"))}}]),t}(r.a.Component);n(114);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=["#79C7E3","#79A7E3","#fc03ec","#7937E3","#a703ec"],S={children:[{children:[{bigness:1,children:[],clr:C[1],name:"energy to love ratio"},{bigness:1,clr:C[2],name:"chart"}],clr:C[3]},{bigness:1,children:[],clr:C[4],name:"cool"}],name:"wow"},P={display:"flex",color:"#fff",background:"#000",alignItems:"center",padding:"10px"},F={height:"5px",width:"5px"};function I(e){var t=e.radius,n=(e.angle+e.angle0)/2;return{x:t*Math.cos(n),y:t*Math.sin(n)}}var x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hoveredCell:!1,hoverdName:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.hoveredCell,a=t.hoverdName;return r.a.createElement("div",{className:"SunburstWithTooltips"},r.a.createElement(f.d,{data:S,style:{stroke:"#fff"},onValueMouseOver:function(t){e.setState({hoveredCell:!(!t.x||!t.y)&&t,hoverdName:t.name})},onValueMouseOut:function(t){return e.setState({hoveredCell:!1,hoverdName:null})},height:200,width:200,margin:{top:10,bottom:10,left:10,right:10},getLabel:function(e){return e.name},getSize:function(e){return e.bigness},getColor:function(e){return e.clr},padAngle:function(){return.01}},n?r.a.createElement(f.b,{value:I(n)},r.a.createElement("div",{style:P},r.a.createElement("div",{style:k({},F,{background:n.clr})}),a)):null),r.a.createElement("h1",null,"Not Radar 2"))}}]),t}(r.a.Component),D=n(80),N=n(81),M=n.n(N),A=n(48);function R(){var e=Object(D.a)(["\n        position: fixed;\n        bottom: 5em;\n      "]);return R=function(){return e},e}var H=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement(M.a,{css:Object(A.css)(R()),sizeUnit:"px",height:20,width:20,radius:2,color:"white",loading:n.props.loading})},n}return Object(d.a)(t,e),t}(a.Component);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=window.location.search.substring(1),V=null,B=null;""!==L&&(V="https://cityio.media.mit.edu/api/table/"+L.toString()+"/meta",B="https://cityio.media.mit.edu/api/table/"+L.toString()+"/grid");var J=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).getCityioHash=function(e){n.setState({doneFetching:!1}),fetch(e).then((function(e){return e.json()})).then((function(e){n.handleCityIOHashes(e)})).catch((function(e){console.log(e),n.setState(z({},n.state,{doneFetching:!1}))}))},n.handleCityIOHashes=function(e){e.hashes.grid!==n.state.oldHash?(n.setState({oldHash:e.hashes.grid}),n.getCityio(B)):console.log("same hash")},n.getCityio=function(e){n.setState({doneFetching:!1}),fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({cityIOdata:e,doneFetching:!0})})).catch((function(e){console.log(e),n.setState(z({},n.state,{doneFetching:!1}))}))},n.render=function(){return r.a.createElement("div",{className:"rows"},r.a.createElement(H,{loading:n.state.doneFetching}),r.a.createElement(v,{cityIOdata:n.state.cityIOdata,doneFetching:n.state.doneFetching}),r.a.createElement("div",null,r.a.createElement(w,{cityIOdata:n.state.cityIOdata,doneFetching:n.state.doneFetching}),r.a.createElement(x,{cityIOdata:n.state.cityIOdata,doneFetching:n.state.doneFetching})))},n.state={oldHash:"nope hash",doneFetching:!1,cityIOdata:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.getCityioHash(V)}),1e3)}}]),t}(a.Component),T=function(){return r.a.createElement("div",{className:"rows"},r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(118).publish("build",(function(e){})),i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){e.exports=n(190)},91:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.8fc9630c.chunk.js.map